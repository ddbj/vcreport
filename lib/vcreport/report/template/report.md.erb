<% require 'vcreport/report/render' -%>

## VCF metrics

<%= @vcf_collection.vcf_path_table.markdown_text %>

### bcftools stats

program: `<%= VCReport::Report::VcfReporter::BCFTOOLS_IMAGE_URI %>`

<%= @vcf_collection.bcftools_stats_path_table.markdown_text %>

<%= @vcf_collection.bcftools_stats_table.markdown_text -%>

## CRAM metrics

### samtools idxstats

<%= @cram.samtools_idxstats&.table&.markdown_text -%>

### samtools flagstat

<%= @cram.samtools_flagstat&.table&.markdown_text -%>

### picard CollectWgsMetrics

[Metrics Definitions (Broad Institute)](https://broadinstitute.github.io/picard/picard-metric-definitions.html#CollectWgsMetrics.WgsMetrics)

<% @cram.picard_collect_wgs_metrics.each do |e| -%>
#### <%= e.chr_region.desc %>

log:

```
<%= Render.wrap_text e.command_log %>
```

genome territory = <%= e.territory.to_s(:delimited) %> bp

<%= e.coverage_stats_table.markdown_text %>

<%= e.percent_excluded_table.markdown_text %>

<%= e.percent_coverage_table.markdown_text %>

<%= e.het_snp_table.markdown_text %>

<% end -%>
